---
import { getCategories, getCertificatesByCategory } from "../utils/putCertificados";
import CategoryCard from "./CategoryCard.astro";

// Obtener categorías disponibles
const categories = getCategories();
---

<main class="flex flex-col w-full h-auto min-h-[625px] px-4 py-4">
  <!-- Título principal -->
   <h2 class="sr-only">Regresar</h2>
   <a href="/" class="flex items-center mb-8">
    <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
    Regresar
  </a>
  <div class="flex justify-center items-center mb-8">
    <h1 class="text-[10vw] sm:text-[6vw] lg:text-[2vw] font-bold text-black dark:text-white text-center">
      Certificates Approved
    </h1>
  </div>

  <!-- Sección de categorías -->
  <section class="mb-8" aria-labelledby="categories-heading">
    <h2 id="categories-heading" class="sr-only">Categorías de certificados</h2>
    <div id="category-cards-container" class="grid grid-cols-2 sm:grid-cols-4 gap-4 max-w-4xl mx-auto">
      {categories.map((category) => (
        <CategoryCard
          id={category.id}
          name={category.name}
          logo={category.logo}
        />
      ))}
    </div>
  </section>

  <!-- Sección de certificados -->
  <section id="certificates-section" class="w-full">
    <div id="certificate-container" class="w-full">
      <!-- Los certificados se cargarán dinámicamente aquí -->
    </div>
  </section>
</main>

<script>
  import { initializeCertificateLogic } from '../utils/certificate-loader.js';
  
  document.addEventListener('DOMContentLoaded', () => {
    initializeCertificateLogic();
  });
</script>
